<h1>WIP</h1>
<div>This loads in data from the score database</div>
<div id="scores"></div>


<script>
function createScoreRequest(){
    var xmlhttp = new XMLHttpRequest();
    var url = 'https://europe-west1-hackathon-af6d5.cloudfunctions.net/getLeaderboard';
    xmlhttp.open('GET', url, true);
    return xmlhttp;
}

function loadScores(arr) {
    out = "";
    var keys = Object.keys(arr);
    for(var i=0; i<keys.length; i++){
        out += "<br>"+keys[i] + " : " + arr[keys[i]];
    }
    document.getElementById("scores").innerHTML = out;
}

function getScoreboard(){
    var xmlhttp = createScoreRequest();

    xmlhttp.onreadystatechange = function() {
        if (this.readyState == 4 && this.status == 200) {
            var scores = JSON.parse(this.responseText);
            loadScores(scores);
        }
    };

    xmlhttp.send();
}

getScoreboard();
</script>